<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  

  <title>Flatten vs Ravel functions in Numpy</title>
  <meta name="description" content="">
  <meta name="author" content="Pc Ng">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <!-- Open Graph -->
  <meta property="og:type" content="article">
  <meta property="og:title" content="Flatten vs Ravel functions in Numpy">
  <meta property="og:description" content="Dealing with multidimensional array with Numpy is quite intuitive. 
While doing an element-wise multipilication computation with Numpy is basically more easier compared to using a classical programming with a for loop, understanding the internal operation of Numpy is useful to improve the computation efficiency when dealing with arrays consists of millions of elements.

In this post, we will look at the differences between flatten and ravel functions.
Both functions provide the same one-dimensional output by stacking up a multidimensional inputs. 
The key difference is how the memory is copied during the process.
Letâ€™s say we would like to flatten an 1000*1000 dimensional array, using flatten will returns a copy, whereas using ravel will returns a view.
The computation time of both functions is shown as follows:

import numpy as np 

# create a 1000*1000 dimensional array
arr = np.random.rand(1000, 1000)
print(f'Size of arr: {arr.shape}')


Size of arr: (1000, 1000)


%%time
arr_flatten = arr.flatten()


Wall time: 3.95 ms


%%time
arr_ravel = arr.ravel()


Wall time: 0 ns


Obviously, ravel is much more faster than flatten. Such a performance speedup can be significant when leading with very large arrays. 
We can also check that both ravel and flatten functions returns the same output.

print(np.array_equal(arr_flatten, arr_ravel))


True


The difference is that there is not copy operation with ravel. For flatten, the output is a copy of the original array; wheareas for ravel, the output is just a view of original array, in which whatever the changes in the second array will affect the change in the original array.
To understand the difference between a copy and a view, consider the memory block of these three arrays.

print(f'Memory address to store arr: {arr.__array_interface__["data"][0]}')
print(f'Memory address to store arr_flatten: {arr_flatten.__array_interface__["data"][0]}')
print(f'Memory address to store arr_ravel: {arr_ravel.__array_interface__["data"][0]}')


Memory address to store arr: 2394595090496
Memory address to store arr_flatten: 2394603155520
Memory address to store arr_ravel: 2394595090496


We can see that flatten uses copy the array to a new memory block; whreas ravel simply creates a view to the original array.

When array is not in C-order
Note that ravel will also do a copy operation when dealing with array that is not in the C-order. 
For example, when we consider the array in Fortrain-order, as in a.T, ravel actually returns a flattened version with C-order.

%%time
arr_ravel2 = arr.ravel()


Wall time: 0 ns


%%time
arr_ravel2T = arr.T.ravel()


Wall time: 7.07 ms


When dealing with the array in different order, we can specify the order with ravel isntead.

%%time
arr_ravel3T = arr.ravel(order = 'F')


Wall time: 6.03 ms


By specifying the order directly within the ravel function, the computation time is slightly faster than doing ravel directly on arr.T.



">
  <meta property="og:image" content="/images/favicons/favicon-194x194.png" />

  <link rel="apple-touch-icon" sizes="57x57" href="/images/favicons/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/images/favicons/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/images/favicons/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/images/favicons/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/images/favicons/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/images/favicons/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/images/favicons/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/images/favicons/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="/images/favicons/pc-fav.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/images/favicons/pc-fav.png" sizes="194x194">
  <link rel="icon" type="image/png" href="/images/favicons/pc-fav.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/images/favicons/pc-fav.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/images/favicons/pc-fav.png" sizes="16x16">
  <link rel="manifest" href="/images/favicons/manifest.json">
  <link rel="shortcut icon" href="/images/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="msapplication-TileImage" content="/images/favicons/mstile-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <!-- Bootstrap & MDB -->
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" integrity="sha512-RO38pBRxYH3SoOprtPTD86JFOclM51/XTIdEPh5j8sj4tp8jmQIx26twG52UaLi//hQldfrh7e51WzP9wuP32Q==" crossorigin="anonymous" />

  <!-- Fonts & Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"  integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">

  <link rel="stylesheet" href="/css/main.css?1621095052817988300">
  <link rel="canonical" href="http://localhost:4000/zblog/2021/flattenRavel/">


  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>

  <!-- Bootsrap & MDB scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.4/umd/popper.min.js" integrity="sha512-eUQ9hGdLjBjY3F41CScH3UX+4JDSI9zXeroz7hJ+RteoCaY+GP/LDoM8AO+Pt+DRFw3nXqsjh9Zsts8hnYv8/A==" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha512-M5KW3ztuIICmVIhjSqXe01oV2bpe248gOxqmlcYrEzAvws7Pw3z6BK0iGbrwvdrUQUhi3eXgtxp5I8PDo9YfjQ==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js" integrity="sha512-Mug9KHKmroQFMLm93zGrjhibM2z2Obg9l6qFG2qKjXEXkMp/VDkI4uju9m4QKPjWSwQ6O2qzZEnJDEeCw0Blcw==" crossorigin="anonymous"></script>

  <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-129545199-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-129545199-1');
  </script>

  <script data-ad-client="ca-pub-9658356171910088" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9658356171910088"
     crossorigin="anonymous"></script>
</head>


  <body>
    
<span class="mobile btn-mobile-menu">
  <i class="icon icon-list btn-mobile-menu__icon"></i>
  <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
</span>

<header class="panel-cover "
  style="background-image: url(/images/cover.jpg)">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
      <div class="panel-main__content">
        
        <ol class="post-list">      
          
            <li>
              <li> 
               <a href="/zblog/2021/jupyterLabVirtualEnv/" title="Adding Virtual Environment to Jupyter Lab">
              <h4 style="color:white">
                Adding Virtual Environment to Jupyter Lab
              </h2> 
              <p class="excerpt">JupyterLab is the next-generation Jupyter notebook with...&hellip;</p>
              </a>
              <div class="post-list__meta">
                  <time datetime="2021-05-12 19:30" class="post-list__meta--date date">12 May 2021</time>
                  
                  &#8226; <span class="post-meta__tags">on <a href="/tags/#JupyterLab">JupyterLab</a>, <a href="/tags/#Virtual Environment">Virtual Environment</a></span>
                  
              </div>
              <hr class="post-list__divider">
            </li>
          
            <li>
              <li> 
               <a href="/zblog/2021/dtw/" title="Dynamic Time Warping">
              <h4 style="color:white">
                Dynamic Time Warping
              </h2> 
              <p class="excerpt">Dynamic Time Warping (DTW) is a non-linear...&hellip;</p>
              </a>
              <div class="post-list__meta">
                  <time datetime="2021-05-01 19:48" class="post-list__meta--date date">1 May 2021</time>
                  
                  &#8226; <span class="post-meta__tags">on <a href="/tags/#Algorithm">Algorithm</a></span>
                  
              </div>
              <hr class="post-list__divider">
            </li>
          
            <li>
              <li> 
               <a href="/zblog/2021/flattenRavel/" title="Flatten vs Ravel functions in Numpy">
              <h4 style="color:white">
                Flatten vs Ravel functions in Numpy
              </h2> 
              <p class="excerpt">Dealing with multidimensional array with Numpy is...&hellip;</p>
              </a>
              <div class="post-list__meta">
                  <time datetime="2021-04-18 19:48" class="post-list__meta--date date">18 Apr 2021</time>
                  
                  &#8226; <span class="post-meta__tags">on <a href="/tags/#Numpy">Numpy</a>, <a href="/tags/#Python">Python</a></span>
                  
              </div>
              <hr class="post-list__divider">
            </li>
          
            <li>
              <li> 
               <a href="/zblog/2021/histogramVisualization/" title="Visualize Data Distribution with Histogram">
              <h4 style="color:white">
                Visualize Data Distribution with Histogram
              </h2> 
              <p class="excerpt">Histogram allows us to visualize the frequency...&hellip;</p>
              </a>
              <div class="post-list__meta">
                  <time datetime="2021-04-12 12:30" class="post-list__meta--date date">12 Apr 2021</time>
                  
                  &#8226; <span class="post-meta__tags">on <a href="/tags/#Matplotlib">Matplotlib</a>, <a href="/tags/#Seaborn">Seaborn</a>, <a href="/tags/#Python">Python</a></span>
                  
              </div>
              <hr class="post-list__divider">
            </li>
          
            <li>
              <li> 
               <a href="/zblog/2021/contactTracing/" title="Smart Contact Tracing Project at University of Guelph">
              <h4 style="color:white">
                Smart Contact Tracing Project at University of Guelph
              </h2> 
              <p class="excerpt">Last year about the same time, we...&hellip;</p>
              </a>
              <div class="post-list__meta">
                  <time datetime="2021-01-08 10:04" class="post-list__meta--date date">8 Jan 2021</time>
                  
                  &#8226; <span class="post-meta__tags">on <a href="/tags/#BLE">BLE</a>, <a href="/tags/#contact tracing">contact tracing</a></span>
                  
              </div>
              <hr class="post-list__divider">
            </li>
          
        </ol>

        <div class="navigation-wrapper">
          <nav class="cover-navigation navigation--social">
            <ul class="navigation">
              
              <!-- Google Scholar -->
              <li class="navigation__item">
                <a href="https://scholar.google.com.hk/citations?user=WBieghIAAAAJ&hl=en&authuser=2"
                  title="@WBieghIAAAAJ on Google Scholar" target="_blank">
                  <i class="ai ai-google-scholar" style="font-size: 1.7em;"></i>
                  <span class="label">Google Scholar</span>
                </a>
              </li>
              

              

              

              
              <!-- LinkedIn -->
              <li class="navigation__item">
                <a href="https://www.linkedin.com/in/pc-ng-3b45072b"
                  title="pc-ng-3b45072b on LinkedIn" target="_blank">
                  <i class="icon icon-social-linkedin"></i>
                  <span class="label">LinkedIn</span>
                </a>
              </li>
              

              
              <!-- GitHub -->
              <li class="navigation__item">
                <a href="https://www.github.com/pc-ng"
                  title="pc-ng on GitHub" target="_blank">
                  <i class="icon icon-social-github"></i>
                  <span class="label">GitHub</span>
                </a>
              </li>
              

              
              <!-- ResearchGate -->
              <li class="navigation__item">
                <a href="https://www.researchgate.net/profile/Pc-Ng-2"
                  title="Pc-Ng-2 on ResearchGate" target="_blank">
                  <i class="ai ai-researchgate" style="font-size: 1.7em;"></i>
                  <span class="label">ResearchGate</span>
                </a>
              </li>
              

              
              <!-- ORCID -->
              <li class="navigation__item">
                <a href="https://orcid.org/0000-0001-9153-5411"
                  title="0000-0001-9153-5411 on ORCID" target="_blank">
                  <i class="ai ai-orcid" style="font-size: 1.7em;"></i>
                  <span class="label">ORCID</span>
                </a>
              </li>
              

              
              <!-- Email -->
              <li class="navigation__item">
                <a href="mailto:pc.ng@utoronto.ca" title="Email pc.ng@utoronto.ca" target="_blank">
                  <i class="icon icon-mail"></i>
                  <span class="label">Email</span>
                </a>
              </li>
              

              <!-- RSS -->
              <!-- <li class="navigation__item">
                <a href="/feed.xml" title="Subscribe" target="_blank">
                  <i class="icon icon-rss"></i>
                  <span class="label">RSS</span>
                </a>
              </li> -->

            </ul>
          </nav>

        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>

    <div class="navigation-wrapper">
      <!-- Nav Bar -->
<nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"">

        <a class="navbar-brand title font-weight-lighter" href="http://localhost:4000/" >
        <span class="font-weight-bold">Perfectly Imperfect</span> 
        </a>


        <!-- Navbar Toggle -->
        <!-- <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
        </button> -->

        <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
            <li class="nav-item ">
                <a class="nav-link"  href="/zpublications" title="Publications">
                    Publications <span class="sr-only">(current)</span>
                </a></li>
            <li class="nav-item ">
                <a class="nav-link"  href="/zresearch/" title="Research">
                    Research <span class="sr-only">(current)</span>
                </a></li>
            <li class="nav-item ">
                <a class="nav-link"  href="/zdevelopments/" title="Developments">
                    Developments <span class="sr-only">(current)</span>
                </a></li>
            <li class="nav-item ">
                <a class="nav-link"  href="/zcv" title="CV">
                    CV <span class="sr-only">(current)</span>
                </a></li>
            <li class="nav-item ">
                <a class="nav-link"  href="/zblog" title="Blog">
                    Blog <span class="sr-only">(current)</span>
                </a></li>
        </ul>
        </div>
</nav>



    </div>  
    <div class="content-wrapper" style = "padding-top: 70px;">
        <article class="post-container post-container--single">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="2021-04-18 19:48" class="post-meta__date date">18 Apr 2021</time>
      
      &#8226; <span class="post-meta__tags">on <a href="/tags/#Numpy">Numpy</a>, <a href="/tags/#Python">Python</a></span>
      
    </div>
    <h1 class="post-title">Flatten vs Ravel functions in Numpy</h1>
  </header>

  <section class="post">
    <p>Dealing with multidimensional array with Numpy is quite intuitive. 
While doing an element-wise multipilication computation with Numpy is basically more easier compared to using a classical programming with a <code class="language-plaintext highlighter-rouge">for</code> loop, understanding the internal operation of Numpy is useful to improve the computation efficiency when dealing with arrays consists of millions of elements.</p>

<p>In this post, we will look at the differences between flatten and ravel functions.
Both functions provide the same one-dimensional output by stacking up a multidimensional inputs. 
The key difference is how the memory is copied during the process.
Letâ€™s say we would like to flatten an 1000*1000 dimensional array, using <code class="language-plaintext highlighter-rouge">flatten</code> will returns a copy, whereas using <code class="language-plaintext highlighter-rouge">ravel</code> will returns a view.
The computation time of both functions is shown as follows:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span> 

<span class="c1"># create a 1000*1000 dimensional array
</span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">'Size of arr: </span><span class="si">{</span><span class="n">arr</span><span class="p">.</span><span class="n">shape</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Size of arr: (1000, 1000)
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%%</span><span class="n">time</span>
<span class="n">arr_flatten</span> <span class="o">=</span> <span class="n">arr</span><span class="p">.</span><span class="n">flatten</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Wall time: 3.95 ms
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%%</span><span class="n">time</span>
<span class="n">arr_ravel</span> <span class="o">=</span> <span class="n">arr</span><span class="p">.</span><span class="n">ravel</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Wall time: 0 ns
</code></pre></div></div>

<p>Obviously, <code class="language-plaintext highlighter-rouge">ravel</code> is much more faster than <code class="language-plaintext highlighter-rouge">flatten</code>. Such a performance speedup can be significant when leading with very large arrays. 
We can also check that both <code class="language-plaintext highlighter-rouge">ravel</code> and <code class="language-plaintext highlighter-rouge">flatten</code> functions returns the same output.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">array_equal</span><span class="p">(</span><span class="n">arr_flatten</span><span class="p">,</span> <span class="n">arr_ravel</span><span class="p">))</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>True
</code></pre></div></div>

<p>The difference is that there is not copy operation with <code class="language-plaintext highlighter-rouge">ravel</code>. For <code class="language-plaintext highlighter-rouge">flatten</code>, the output is a copy of the original array; wheareas for <code class="language-plaintext highlighter-rouge">ravel</code>, the output is just a view of original array, in which whatever the changes in the second array will affect the change in the original array.
To understand the difference between a copy and a view, consider the memory block of these three arrays.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">'Memory address to store arr: </span><span class="si">{</span><span class="n">arr</span><span class="p">.</span><span class="n">__array_interface__</span><span class="p">[</span><span class="s">"data"</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">'Memory address to store arr_flatten: </span><span class="si">{</span><span class="n">arr_flatten</span><span class="p">.</span><span class="n">__array_interface__</span><span class="p">[</span><span class="s">"data"</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">'Memory address to store arr_ravel: </span><span class="si">{</span><span class="n">arr_ravel</span><span class="p">.</span><span class="n">__array_interface__</span><span class="p">[</span><span class="s">"data"</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s">'</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Memory address to store arr: 2394595090496
Memory address to store arr_flatten: 2394603155520
Memory address to store arr_ravel: 2394595090496
</code></pre></div></div>

<p>We can see that <code class="language-plaintext highlighter-rouge">flatten</code> uses copy the array to a new memory block; whreas <code class="language-plaintext highlighter-rouge">ravel</code> simply creates a view to the original array.</p>

<h2 id="when-array-is-not-in-c-order">When array is not in C-order</h2>
<p>Note that <code class="language-plaintext highlighter-rouge">ravel</code> will also do a copy operation when dealing with array that is not in the C-order. 
For example, when we consider the array in Fortrain-order, as in <code class="language-plaintext highlighter-rouge">a.T</code>, <code class="language-plaintext highlighter-rouge">ravel</code> actually returns a flattened version with C-order.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%%</span><span class="n">time</span>
<span class="n">arr_ravel2</span> <span class="o">=</span> <span class="n">arr</span><span class="p">.</span><span class="n">ravel</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Wall time: 0 ns
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%%</span><span class="n">time</span>
<span class="n">arr_ravel2T</span> <span class="o">=</span> <span class="n">arr</span><span class="p">.</span><span class="n">T</span><span class="p">.</span><span class="n">ravel</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Wall time: 7.07 ms
</code></pre></div></div>

<p>When dealing with the array in different order, we can specify the order with <code class="language-plaintext highlighter-rouge">ravel</code> isntead.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%%</span><span class="n">time</span>
<span class="n">arr_ravel3T</span> <span class="o">=</span> <span class="n">arr</span><span class="p">.</span><span class="n">ravel</span><span class="p">(</span><span class="n">order</span> <span class="o">=</span> <span class="s">'F'</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Wall time: 6.03 ms
</code></pre></div></div>

<p>By specifying the order directly within the <code class="language-plaintext highlighter-rouge">ravel</code> function, the computation time is slightly faster than doing <code class="language-plaintext highlighter-rouge">ravel</code> directly on <code class="language-plaintext highlighter-rouge">arr.T</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div>

  </section>
  
</article>




        <footer class="fixed-bottom">
  <div class="container mt-0">
    <span class="footer__copyright">&copy; 2021 Pc Ng. All rights reserved.</span>
  </div>
</footer>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="/js/main.js?1621095052817988300"></script>
<!--  -->

<script>
$(document).ready(function(){
    var str =$(this).attr('id');
    
    $(".btnId").click(function(){
        var str = $(this).attr('id');
        var ret = str.split("_");
        var id = ret[1];
        $('#' + id).toggle();
    });
});
</script>

    </div>

  </body>

  <!-- Load my JS -->
  <script src="/js/my.js"></script>
</html>